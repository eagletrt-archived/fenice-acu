ARM GAS  /tmp/cc4aSaQh.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"state.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.rodata.debug_operations.str1.4,"aMS",%progbits,1
  17              		.align	2
  18              	.LC0:
  19 0000 68656C70 		.ascii	"help\000"
  19      00
  20 0005 000000   		.align	2
  21              	.LC1:
  22 0008 0D0A2A2A 		.ascii	"\015\012***********ECU HELP***********\015\012Avaia"
  22      2A2A2A2A 
  22      2A2A2A2A 
  22      2A454355 
  22      2048454C 
  23 002f 626C6520 		.ascii	"ble msg are:\015\012\011-- status -> print ECU stat"
  23      6D736720 
  23      6172653A 
  23      0D0A092D 
  23      2D207374 
  24 0059 75730D0A 		.ascii	"us\015\012\011-- time -> print activity time\015\012"
  24      092D2D20 
  24      74696D65 
  24      202D3E20 
  24      7072696E 
  25 007e 092D2D20 		.ascii	"\011-- codev  -> print code version\015\012\000"
  25      636F6465 
  25      7620202D 
  25      3E207072 
  25      696E7420 
  26 00a1 000000   		.align	2
  27              	.LC2:
  28 00a4 636F6465 		.ascii	"codev\000"
  28      7600
  29 00aa 0000     		.align	2
  30              	.LC3:
  31 00ac 74696D65 		.ascii	"time\000"
  31      00
  32 00b1 000000   		.align	2
  33              	.LC4:
  34 00b4 0D0A5469 		.ascii	"\015\012Time: %d hours : %d min : %d sec : %d dec\015"
  34      6D653A20 
  34      25642068 
  34      6F757273 
  34      203A2025 
ARM GAS  /tmp/cc4aSaQh.s 			page 2


  35 00e0 0A00     		.ascii	"\012\000"
  36 00e2 0000     		.align	2
  37              	.LC5:
  38 00e4 73746174 		.ascii	"status\000"
  38      757300
  39 00eb 00       		.align	2
  40              	.LC6:
  41 00ec 0D0A0A74 		.ascii	"\015\012\012type of status:\015\012\011 0 = OK\015\012"
  41      79706520 
  41      6F662073 
  41      74617475 
  41      733A0D0A 
  42 010a 09203120 		.ascii	"\011 1 = ERROR\015\012\011 2 = BUSY\015\012\011 3 ="
  42      3D204552 
  42      524F520D 
  42      0A092032 
  42      203D2042 
  43 0128 2054494D 		.ascii	" TIMEOUT\015\012\012CAN1 status:\015\012\011CAN1 co"
  43      454F5554 
  43      0D0A0A43 
  43      414E3120 
  43      73746174 
  44 0149 6E666967 		.ascii	"nfig status: %d \015\012\011CAN1 notification statu"
  44      20737461 
  44      7475733A 
  44      20256420 
  44      0D0A0943 
  45 0173 733A2025 		.ascii	"s: %d\015\012\011CAN1 start status: %d\015\012\000"
  45      640D0A09 
  45      43414E31 
  45      20737461 
  45      72742073 
  46 0193 00       		.align	2
  47              	.LC7:
  48 0194 43414E33 		.ascii	"CAN3 status:\015\012\011CAN3 config status: %d \015"
  48      20737461 
  48      7475733A 
  48      0D0A0943 
  48      414E3320 
  49 01bb 0A094341 		.ascii	"\012\011CAN3 notification status: %d\015\012\011CAN"
  49      4E33206E 
  49      6F746966 
  49      69636174 
  49      696F6E20 
  50 01df 33207374 		.ascii	"3 start status: %d\015\012\000"
  50      61727420 
  50      73746174 
  50      75733A20 
  50      25640D0A 
  51              		.align	2
  52              	.LC8:
  53 01f4 0D0A4375 		.ascii	"\015\012Current state: STATE_INIT\015\012\000"
  53      7272656E 
  53      74207374 
  53      6174653A 
  53      20535441 
  54 0212 0000     		.align	2
ARM GAS  /tmp/cc4aSaQh.s 			page 3


  55              	.LC9:
  56 0214 0D0A4375 		.ascii	"\015\012Current state: STATE_IDLE\015\012\000"
  56      7272656E 
  56      74207374 
  56      6174653A 
  56      20535441 
  57 0232 0000     		.align	2
  58              	.LC10:
  59 0234 0D0A4375 		.ascii	"\015\012Current state: STATE_SETUP\015\012\000"
  59      7272656E 
  59      74207374 
  59      6174653A 
  59      20535441 
  60 0253 00       		.align	2
  61              	.LC11:
  62 0254 0D0A4375 		.ascii	"\015\012Current state: STATE_RUN\015\012\000"
  62      7272656E 
  62      74207374 
  62      6174653A 
  62      20535441 
  63 0271 000000   		.align	2
  64              	.LC12:
  65 0274 0D0A4465 		.ascii	"\015\012Device connected : (0 = no, 1 = yes)\015\012"
  65      76696365 
  65      20636F6E 
  65      6E656374 
  65      6564203A 
  66 029c 0920494D 		.ascii	"\011 IMU -> %d\015\012\011 ITS0 -> %d\015\012\011 I"
  66      55202D3E 
  66      2025640D 
  66      0A092049 
  66      54533020 
  67 02ba 54533120 		.ascii	"TS1 -> %d\015\012\011 ITS2 -> %d\015\012\011 ITS3 -"
  67      2D3E2025 
  67      640D0A09 
  67      20495453 
  67      32202D3E 
  68 02db 3E202564 		.ascii	"> %d\015\012\000"
  68      0D0A00
  69 02e2 0000     		.align	2
  70              	.LC13:
  71 02e4 67617900 		.ascii	"gay\000"
  72              		.align	2
  73              	.LC14:
  74 02e8 0D0A2020 		.ascii	"\015\012          $\015\012        $   $\015\012   "
  74      20202020 
  74      20202020 
  74      240D0A20 
  74      20202020 
  75 0309 20202020 		.ascii	"    $     $\015\012       $$$$$$$\015\012       $$$"
  75      24202020 
  75      2020240D 
  75      0A202020 
  75      20202020 
  76 0330 24242424 		.ascii	"$$$$\015\012       $$$$$$$\015\012       $$$$$$$\015"
  76      0D0A2020 
  76      20202020 
ARM GAS  /tmp/cc4aSaQh.s 			page 4


  76      20242424 
  76      24242424 
  77 0355 0A202020 		.ascii	"\012       $$$$$$$\015\012       $$$$$$$\015\012   "
  77      20202020 
  77      24242424 
  77      2424240D 
  77      0A202020 
  78 0379 20202020 		.ascii	"    $$$$$$$\015\012  $$$$$$     $$$$$$\015\012 $$$$"
  78      24242424 
  78      2424240D 
  78      0A202024 
  78      24242424 
  79 03a0 24242424 		.ascii	"$$$$   $$$$$$$$\015\012$$$$$$$$$$$$$$$$$$$$\015\012"
  79      20202024 
  79      24242424 
  79      2424240D 
  79      0A242424 
  80 03c7 20242424 		.ascii	" $$$$$$$$   $$$$$$$$\015\012  $$$$$$     $$$$$$\015"
  80      24242424 
  80      24202020 
  80      24242424 
  80      24242424 
  81 03f1 0A00     		.ascii	"\012\000"
  82 03f3 00       		.align	2
  83              	.LC15:
  84 03f4 0D0A4552 		.ascii	"\015\012ERROR : msg %s doesn't exist\015\012\000"
  84      524F5220 
  84      3A206D73 
  84      67202573 
  84      20646F65 
  85              		.section	.text.debug_operations,"ax",%progbits
  86              		.align	1
  87              		.global	debug_operations
  88              		.arch armv7e-m
  89              		.syntax unified
  90              		.thumb
  91              		.thumb_func
  92              		.fpu fpv5-d16
  94              	debug_operations:
  95              	.LFB148:
  96              		.file 1 "Src/state.c"
   1:Src/state.c   **** #include "state.h"
   2:Src/state.c   **** #include "can.h"
   3:Src/state.c   **** #include "global_variables.h"
   4:Src/state.c   **** #include "stm32f7xx_hal.h"
   5:Src/state.c   **** #include "string.h"
   6:Src/state.c   **** #include "stdio.h"
   7:Src/state.c   **** 
   8:Src/state.c   **** // Default state
   9:Src/state.c   **** // Init variables
  10:Src/state.c   **** /*******************************************************************
  11:Src/state.c   ****  *                         START INIT STATE
  12:Src/state.c   ****  *******************************************************************/
  13:Src/state.c   **** void init(){
  14:Src/state.c   **** 	if(debug_msg_arrived == 1){
  15:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
  16:Src/state.c   **** 		debug_operations();
ARM GAS  /tmp/cc4aSaQh.s 			page 5


  17:Src/state.c   **** 	}
  18:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can1)){
  19:Src/state.c   **** 		switch (can1.rx_id){
  20:Src/state.c   **** 		case ID_imu_acceleration:
  21:Src/state.c   **** 		case ID_imu_angular_rate:
  22:Src/state.c   **** 			imu_operations();
  23:Src/state.c   **** 			break;
  24:Src/state.c   **** 		
  25:Src/state.c   **** 		default:
  26:Src/state.c   **** 			break;
  27:Src/state.c   **** 		}
  28:Src/state.c   **** 	}
  29:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can3)){
  30:Src/state.c   **** 
  31:Src/state.c   **** 	}
  32:Src/state.c   **** 	current_state = STATE_IDLE;
  33:Src/state.c   **** }
  34:Src/state.c   **** /*******************************************************************
  35:Src/state.c   ****  *                         END INIT STATE
  36:Src/state.c   ****  *******************************************************************/
  37:Src/state.c   **** /*******************************************************************
  38:Src/state.c   ****  *                        START IDLE STATE
  39:Src/state.c   ****  *******************************************************************/
  40:Src/state.c   **** void idle(){
  41:Src/state.c   **** 	if(debug_msg_arrived == 1){
  42:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
  43:Src/state.c   **** 		debug_operations();
  44:Src/state.c   **** 	}
  45:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can1)){
  46:Src/state.c   **** 		switch(can1.rx_id){
  47:Src/state.c   **** 			case ID_ASK_STATE:
  48:Src/state.c   **** 				can1.dataTx[0] = (uint8_t)current_state;
  49:Src/state.c   **** 				can1.dataTx[1] = 0;
  50:Src/state.c   **** 				can1.dataTx[2] = 0;
  51:Src/state.c   **** 				can1.dataTx[3] = 0;
  52:Src/state.c   **** 				can1.dataTx[4] = 0;
  53:Src/state.c   **** 				can1.dataTx[5] = 0;
  54:Src/state.c   **** 				can1.dataTx[6] = 0;
  55:Src/state.c   **** 				can1.dataTx[7] = 0;
  56:Src/state.c   **** 				can1.tx_id = ID_ACU_1;
  57:Src/state.c   **** 				CAN_Send(&can1, normalPriority);
  58:Src/state.c   **** 				break;
  59:Src/state.c   **** 			case ID_ASK_INV_DX:
  60:Src/state.c   **** 				break;
  61:Src/state.c   **** 			case ID_ASK_INV_SX:
  62:Src/state.c   **** 				break;
  63:Src/state.c   **** 			case ID_BMS_HV:
  64:Src/state.c   **** 				break;
  65:Src/state.c   **** 			case ID_BMS_LV:
  66:Src/state.c   **** 				break;
  67:Src/state.c   **** 			case ID_STEERING_WEEL_1:
  68:Src/state.c   **** 				if(can1.dataRx[0] == 2){ //----- change the current state -----//
  69:Src/state.c   **** 					current_state = can1.dataRx[1];
  70:Src/state.c   **** 				}else if(can1.dataRx[0] == 3){ //----- change state to setup -----//
  71:Src/state.c   **** 					current_state = STATE_SETUP;
  72:Src/state.c   **** 				}
  73:Src/state.c   **** 				break;
ARM GAS  /tmp/cc4aSaQh.s 			page 6


  74:Src/state.c   **** 			case ID_ATC_POT:
  75:Src/state.c   **** 				atc_pot_operations();
  76:Src/state.c   **** 				break;
  77:Src/state.c   **** 			default:
  78:Src/state.c   **** 				break;
  79:Src/state.c   **** 		}
  80:Src/state.c   **** 	}
  81:Src/state.c   **** 
  82:Src/state.c   **** }
  83:Src/state.c   **** /*******************************************************************
  84:Src/state.c   ****  *                         END IDLE STATE
  85:Src/state.c   ****  *******************************************************************/
  86:Src/state.c   **** /*******************************************************************
  87:Src/state.c   ****  *                        START SETUP STATE
  88:Src/state.c   ****  *******************************************************************/
  89:Src/state.c   **** void setup(){
  90:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can1)){
  91:Src/state.c   **** 		switch(can1.rx_id){
  92:Src/state.c   **** 			case ID_STEERING_WEEL_1:
  93:Src/state.c   **** 				if(can1.dataRx[0] == 4){ //----- change state to idle -----//
  94:Src/state.c   **** 					current_state = STATE_IDLE;
  95:Src/state.c   **** 				}else if(can1.dataRx[0] == 5){ //----- change state to run -----//
  96:Src/state.c   **** 					current_state = STATE_RUN;
  97:Src/state.c   **** 					can1.tx_id = ID_ACU_2;
  98:Src/state.c   **** 					can1.dataRx[0] = 5;
  99:Src/state.c   **** 					can1.tx_size = 1;
 100:Src/state.c   **** 					CAN_Send(&can1, normalPriority);
 101:Src/state.c   **** 				}
 102:Src/state.c   **** 			case ID_ATC_POT:
 103:Src/state.c   **** 				atc_pot_operations();
 104:Src/state.c   **** 				break;
 105:Src/state.c   **** 			default:
 106:Src/state.c   **** 				break;
 107:Src/state.c   **** 		}
 108:Src/state.c   **** 	}
 109:Src/state.c   **** }
 110:Src/state.c   **** /*******************************************************************
 111:Src/state.c   ****  *                         END SETUP STATE
 112:Src/state.c   ****  *******************************************************************/
 113:Src/state.c   **** /*******************************************************************
 114:Src/state.c   ****  *                         START RUN STATE
 115:Src/state.c   ****  *******************************************************************/
 116:Src/state.c   **** void run(){
 117:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can1)){
 118:Src/state.c   **** 		switch(can1.rx_id){
 119:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 120:Src/state.c   **** 				if(can1.dataRx[0] == 6){ //----- change state to setup -----//
 121:Src/state.c   **** 					current_state = STATE_SETUP;
 122:Src/state.c   **** 				}
 123:Src/state.c   **** 				break;
 124:Src/state.c   **** 			case ID_ATC_POT:
 125:Src/state.c   **** 				atc_pot_operations();
 126:Src/state.c   **** 				break;
 127:Src/state.c   **** 			default:
 128:Src/state.c   **** 				break;
 129:Src/state.c   **** 		}
 130:Src/state.c   **** 	}
ARM GAS  /tmp/cc4aSaQh.s 			page 7


 131:Src/state.c   **** }
 132:Src/state.c   **** /*******************************************************************
 133:Src/state.c   ****  *                         END RUN STATE
 134:Src/state.c   ****  *******************************************************************/
 135:Src/state.c   **** 
 136:Src/state.c   **** void debug_operations(){
  97              		.loc 1 136 24 view -0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101 0000 30B5     		push	{r4, r5, lr}
 102              	.LCFI0:
 103              		.cfi_def_cfa_offset 12
 104              		.cfi_offset 4, -12
 105              		.cfi_offset 5, -8
 106              		.cfi_offset 14, -4
 107 0002 85B0     		sub	sp, sp, #20
 108              	.LCFI1:
 109              		.cfi_def_cfa_offset 32
 137:Src/state.c   **** 	if(strcmp(debug_rx,"help") == 0){
 110              		.loc 1 137 2 view .LVU1
 111              		.loc 1 137 5 is_stmt 0 view .LVU2
 112 0004 7049     		ldr	r1, .L21
 113 0006 7148     		ldr	r0, .L21+4
 114 0008 FFF7FEFF 		bl	strcmp
 115              	.LVL0:
 116              		.loc 1 137 4 view .LVU3
 117 000c 48B3     		cbz	r0, .L13
 138:Src/state.c   **** 		sprintf(debug_tx,
 139:Src/state.c   **** 				"\r\n***********ECU HELP***********\r\n"
 140:Src/state.c   **** 				"Avaiable msg are:\r\n"
 141:Src/state.c   **** 				"\t-- status -> print ECU status\r\n"
 142:Src/state.c   **** 				"\t-- time -> print activity time\r\n"
 143:Src/state.c   **** 				"\t-- codev  -> print code version\r\n");
 144:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 145:Src/state.c   **** 	}else if(strcmp(debug_rx,"codev") == 0){
 118              		.loc 1 145 8 is_stmt 1 view .LVU4
 119              		.loc 1 145 11 is_stmt 0 view .LVU5
 120 000e 7049     		ldr	r1, .L21+8
 121 0010 6E48     		ldr	r0, .L21+4
 122 0012 FFF7FEFF 		bl	strcmp
 123              	.LVL1:
 124              		.loc 1 145 10 view .LVU6
 125 0016 0028     		cmp	r0, #0
 126 0018 34D0     		beq	.L14
 146:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)code_version, strlen(code_version), 100);
 147:Src/state.c   **** 	}else if(strcmp(debug_rx,"time") == 0){
 127              		.loc 1 147 8 is_stmt 1 view .LVU7
 128              		.loc 1 147 11 is_stmt 0 view .LVU8
 129 001a 6E49     		ldr	r1, .L21+12
 130 001c 6B48     		ldr	r0, .L21+4
 131 001e FFF7FEFF 		bl	strcmp
 132              	.LVL2:
 133              		.loc 1 147 10 view .LVU9
 134 0022 0028     		cmp	r0, #0
 135 0024 39D0     		beq	.L15
 148:Src/state.c   **** 		sprintf(debug_tx,"\r\nTime: %d hours : %d min : %d sec : %d dec\r\n",count_hour,count_min, count_
ARM GAS  /tmp/cc4aSaQh.s 			page 8


 149:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 150:Src/state.c   **** 	}else if(strcmp(debug_rx,"status") == 0){
 136              		.loc 1 150 8 is_stmt 1 view .LVU10
 137              		.loc 1 150 11 is_stmt 0 view .LVU11
 138 0026 6C49     		ldr	r1, .L21+16
 139 0028 6848     		ldr	r0, .L21+4
 140 002a FFF7FEFF 		bl	strcmp
 141              	.LVL3:
 142              		.loc 1 150 10 view .LVU12
 143 002e 0028     		cmp	r0, #0
 144 0030 4CD0     		beq	.L16
 151:Src/state.c   **** 		sprintf(debug_tx,
 152:Src/state.c   **** 				"\r\n\ntype of status:\r\n"
 153:Src/state.c   **** 				"\t 0 = OK\r\n"
 154:Src/state.c   **** 				"\t 1 = ERROR\r\n"
 155:Src/state.c   **** 				"\t 2 = BUSY\r\n"
 156:Src/state.c   **** 				"\t 3 = TIMEOUT\r\n\n"
 157:Src/state.c   **** 				"CAN1 status:\r\n"
 158:Src/state.c   **** 				"\tCAN1 config status: %d \r\n"
 159:Src/state.c   **** 				"\tCAN1 notification status: %d\r\n"
 160:Src/state.c   **** 				"\tCAN1 start status: %d\r\n"
 161:Src/state.c   **** 				,can1.configFilter_status,can1.activateNotif_status,can1.canStart_status);
 162:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 163:Src/state.c   **** 		sprintf(debug_tx,
 164:Src/state.c   **** 				"CAN3 status:\r\n"
 165:Src/state.c   **** 				"\tCAN3 config status: %d \r\n"
 166:Src/state.c   **** 				"\tCAN3 notification status: %d\r\n"
 167:Src/state.c   **** 				"\tCAN3 start status: %d\r\n"
 168:Src/state.c   **** 				,can3.configFilter_status,can3.activateNotif_status,can3.canStart_status);
 169:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 170:Src/state.c   **** 		if(current_state == STATE_INIT){
 171:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_INIT\r\n", strlen("\r\nCurrent sta
 172:Src/state.c   **** 		}else if(current_state == STATE_IDLE){
 173:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_IDLE\r\n", strlen("\r\nCurrent sta
 174:Src/state.c   **** 		}else if(current_state == STATE_SETUP){
 175:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_SETUP\r\n", strlen("\r\nCurrent st
 176:Src/state.c   **** 		}else if(current_state == STATE_RUN){
 177:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_RUN\r\n", strlen("\r\nCurrent stat
 178:Src/state.c   **** 		}
 179:Src/state.c   **** 		sprintf(debug_tx,
 180:Src/state.c   **** 				"\r\n"
 181:Src/state.c   **** 				"Device connected : (0 = no, 1 = yes)\r\n"
 182:Src/state.c   **** 				"\t IMU -> %d\r\n"
 183:Src/state.c   **** 				"\t ITS0 -> %d\r\n"
 184:Src/state.c   **** 				"\t ITS1 -> %d\r\n"
 185:Src/state.c   **** 				"\t ITS2 -> %d\r\n"
 186:Src/state.c   **** 				"\t ITS3 -> %d\r\n"
 187:Src/state.c   **** 				,imu_connected, its0_connected, its1_connected, its2_connected, its3_connected);
 188:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 189:Src/state.c   **** 	}else if(strcmp(debug_rx,"gay") == 0){
 145              		.loc 1 189 8 is_stmt 1 view .LVU13
 146              		.loc 1 189 11 is_stmt 0 view .LVU14
 147 0032 6A49     		ldr	r1, .L21+20
 148 0034 6548     		ldr	r0, .L21+4
 149 0036 FFF7FEFF 		bl	strcmp
 150              	.LVL4:
 151              		.loc 1 189 10 view .LVU15
ARM GAS  /tmp/cc4aSaQh.s 			page 9


 152 003a 0028     		cmp	r0, #0
 153 003c 40F0B380 		bne	.L11
 190:Src/state.c   **** 		sprintf(debug_tx,
 154              		.loc 1 190 3 is_stmt 1 view .LVU16
 155 0040 674C     		ldr	r4, .L21+24
 156 0042 40F20B12 		movw	r2, #267
 157 0046 6749     		ldr	r1, .L21+28
 158 0048 2046     		mov	r0, r4
 159 004a FFF7FEFF 		bl	memcpy
 160              	.LVL5:
 191:Src/state.c   **** 				"\r\n"
 192:Src/state.c   **** 				"          $\r\n"
 193:Src/state.c   **** 				"        $   $\r\n"
 194:Src/state.c   **** 				"       $     $\r\n"
 195:Src/state.c   **** 				"       $$$$$$$\r\n"
 196:Src/state.c   **** 				"       $$$$$$$\r\n"
 197:Src/state.c   **** 				"       $$$$$$$\r\n"
 198:Src/state.c   **** 				"       $$$$$$$\r\n"
 199:Src/state.c   **** 				"       $$$$$$$\r\n"
 200:Src/state.c   **** 				"       $$$$$$$\r\n"
 201:Src/state.c   **** 				"       $$$$$$$\r\n"
 202:Src/state.c   **** 				"  $$$$$$     $$$$$$\r\n"
 203:Src/state.c   **** 				" $$$$$$$$   $$$$$$$$\r\n"
 204:Src/state.c   **** 				"$$$$$$$$$$$$$$$$$$$$\r\n"
 205:Src/state.c   **** 				" $$$$$$$$   $$$$$$$$\r\n"
 206:Src/state.c   **** 				"  $$$$$$     $$$$$$\r\n");
 207:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 161              		.loc 1 207 3 view .LVU17
 162              		.loc 1 207 49 is_stmt 0 view .LVU18
 163 004e 2046     		mov	r0, r4
 164 0050 FFF7FEFF 		bl	strlen
 165              	.LVL6:
 166              		.loc 1 207 3 view .LVU19
 167 0054 6423     		movs	r3, #100
 168 0056 82B2     		uxth	r2, r0
 169 0058 2146     		mov	r1, r4
 170 005a 6348     		ldr	r0, .L21+32
 171 005c FFF7FEFF 		bl	HAL_UART_Transmit
 172              	.LVL7:
 173 0060 0EE0     		b	.L1
 174              	.L13:
 138:Src/state.c   **** 				"\r\n***********ECU HELP***********\r\n"
 175              		.loc 1 138 3 is_stmt 1 view .LVU20
 176 0062 5F4C     		ldr	r4, .L21+24
 177 0064 9922     		movs	r2, #153
 178 0066 6149     		ldr	r1, .L21+36
 179 0068 2046     		mov	r0, r4
 180 006a FFF7FEFF 		bl	memcpy
 181              	.LVL8:
 144:Src/state.c   **** 	}else if(strcmp(debug_rx,"codev") == 0){
 182              		.loc 1 144 3 view .LVU21
 144:Src/state.c   **** 	}else if(strcmp(debug_rx,"codev") == 0){
 183              		.loc 1 144 49 is_stmt 0 view .LVU22
 184 006e 2046     		mov	r0, r4
 185 0070 FFF7FEFF 		bl	strlen
 186              	.LVL9:
 144:Src/state.c   **** 	}else if(strcmp(debug_rx,"codev") == 0){
ARM GAS  /tmp/cc4aSaQh.s 			page 10


 187              		.loc 1 144 3 view .LVU23
 188 0074 6423     		movs	r3, #100
 189 0076 82B2     		uxth	r2, r0
 190 0078 2146     		mov	r1, r4
 191 007a 5B48     		ldr	r0, .L21+32
 192 007c FFF7FEFF 		bl	HAL_UART_Transmit
 193              	.LVL10:
 194              	.L1:
 208:Src/state.c   **** 	}else{
 209:Src/state.c   **** 		sprintf(debug_tx,"\r\nERROR : msg %s doesn't exist\r\n",debug_rx);
 210:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 211:Src/state.c   **** 	}
 212:Src/state.c   **** }
 195              		.loc 1 212 1 view .LVU24
 196 0080 05B0     		add	sp, sp, #20
 197              	.LCFI2:
 198              		.cfi_remember_state
 199              		.cfi_def_cfa_offset 12
 200              		@ sp needed
 201 0082 30BD     		pop	{r4, r5, pc}
 202              	.L14:
 203              	.LCFI3:
 204              		.cfi_restore_state
 146:Src/state.c   **** 	}else if(strcmp(debug_rx,"time") == 0){
 205              		.loc 1 146 3 is_stmt 1 view .LVU25
 146:Src/state.c   **** 	}else if(strcmp(debug_rx,"time") == 0){
 206              		.loc 1 146 53 is_stmt 0 view .LVU26
 207 0084 5A4C     		ldr	r4, .L21+40
 208 0086 2046     		mov	r0, r4
 209 0088 FFF7FEFF 		bl	strlen
 210              	.LVL11:
 146:Src/state.c   **** 	}else if(strcmp(debug_rx,"time") == 0){
 211              		.loc 1 146 3 view .LVU27
 212 008c 6423     		movs	r3, #100
 213 008e 82B2     		uxth	r2, r0
 214 0090 2146     		mov	r1, r4
 215 0092 5548     		ldr	r0, .L21+32
 216 0094 FFF7FEFF 		bl	HAL_UART_Transmit
 217              	.LVL12:
 218 0098 F2E7     		b	.L1
 219              	.L15:
 148:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 220              		.loc 1 148 3 is_stmt 1 view .LVU28
 221 009a 514C     		ldr	r4, .L21+24
 222 009c 554B     		ldr	r3, .L21+44
 223 009e 1B88     		ldrh	r3, [r3]
 224 00a0 0193     		str	r3, [sp, #4]
 225 00a2 554B     		ldr	r3, .L21+48
 226 00a4 1B88     		ldrh	r3, [r3]
 227 00a6 0093     		str	r3, [sp]
 228 00a8 544B     		ldr	r3, .L21+52
 229 00aa 1B88     		ldrh	r3, [r3]
 230 00ac 544A     		ldr	r2, .L21+56
 231 00ae 1288     		ldrh	r2, [r2]
 232 00b0 5449     		ldr	r1, .L21+60
 233 00b2 2046     		mov	r0, r4
 234 00b4 FFF7FEFF 		bl	sprintf
ARM GAS  /tmp/cc4aSaQh.s 			page 11


 235              	.LVL13:
 149:Src/state.c   **** 	}else if(strcmp(debug_rx,"status") == 0){
 236              		.loc 1 149 3 view .LVU29
 149:Src/state.c   **** 	}else if(strcmp(debug_rx,"status") == 0){
 237              		.loc 1 149 49 is_stmt 0 view .LVU30
 238 00b8 2046     		mov	r0, r4
 239 00ba FFF7FEFF 		bl	strlen
 240              	.LVL14:
 149:Src/state.c   **** 	}else if(strcmp(debug_rx,"status") == 0){
 241              		.loc 1 149 3 view .LVU31
 242 00be 6423     		movs	r3, #100
 243 00c0 82B2     		uxth	r2, r0
 244 00c2 2146     		mov	r1, r4
 245 00c4 4848     		ldr	r0, .L21+32
 246 00c6 FFF7FEFF 		bl	HAL_UART_Transmit
 247              	.LVL15:
 248 00ca D9E7     		b	.L1
 249              	.L16:
 151:Src/state.c   **** 				"\r\n\ntype of status:\r\n"
 250              		.loc 1 151 3 is_stmt 1 view .LVU32
 161:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 251              		.loc 1 161 10 is_stmt 0 view .LVU33
 252 00cc 4E4A     		ldr	r2, .L21+64
 161:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 253              		.loc 1 161 61 view .LVU34
 254 00ce 92F85E30 		ldrb	r3, [r2, #94]	@ zero_extendqisi2
 151:Src/state.c   **** 				"\r\n\ntype of status:\r\n"
 255              		.loc 1 151 3 view .LVU35
 256 00d2 434C     		ldr	r4, .L21+24
 257 00d4 0093     		str	r3, [sp]
 258 00d6 92F85D30 		ldrb	r3, [r2, #93]	@ zero_extendqisi2
 259 00da 92F85C20 		ldrb	r2, [r2, #92]	@ zero_extendqisi2
 260 00de 4B49     		ldr	r1, .L21+68
 261 00e0 2046     		mov	r0, r4
 262 00e2 FFF7FEFF 		bl	sprintf
 263              	.LVL16:
 162:Src/state.c   **** 		sprintf(debug_tx,
 264              		.loc 1 162 3 is_stmt 1 view .LVU36
 162:Src/state.c   **** 		sprintf(debug_tx,
 265              		.loc 1 162 49 is_stmt 0 view .LVU37
 266 00e6 2046     		mov	r0, r4
 267 00e8 FFF7FEFF 		bl	strlen
 268              	.LVL17:
 162:Src/state.c   **** 		sprintf(debug_tx,
 269              		.loc 1 162 3 view .LVU38
 270 00ec 3E4D     		ldr	r5, .L21+32
 271 00ee 6423     		movs	r3, #100
 272 00f0 82B2     		uxth	r2, r0
 273 00f2 2146     		mov	r1, r4
 274 00f4 2846     		mov	r0, r5
 275 00f6 FFF7FEFF 		bl	HAL_UART_Transmit
 276              	.LVL18:
 163:Src/state.c   **** 				"CAN3 status:\r\n"
 277              		.loc 1 163 3 is_stmt 1 view .LVU39
 168:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 278              		.loc 1 168 10 is_stmt 0 view .LVU40
 279 00fa 454A     		ldr	r2, .L21+72
ARM GAS  /tmp/cc4aSaQh.s 			page 12


 168:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 280              		.loc 1 168 61 view .LVU41
 281 00fc 92F85E30 		ldrb	r3, [r2, #94]	@ zero_extendqisi2
 163:Src/state.c   **** 				"CAN3 status:\r\n"
 282              		.loc 1 163 3 view .LVU42
 283 0100 0093     		str	r3, [sp]
 284 0102 92F85D30 		ldrb	r3, [r2, #93]	@ zero_extendqisi2
 285 0106 92F85C20 		ldrb	r2, [r2, #92]	@ zero_extendqisi2
 286 010a 4249     		ldr	r1, .L21+76
 287 010c 2046     		mov	r0, r4
 288 010e FFF7FEFF 		bl	sprintf
 289              	.LVL19:
 169:Src/state.c   **** 		if(current_state == STATE_INIT){
 290              		.loc 1 169 3 is_stmt 1 view .LVU43
 169:Src/state.c   **** 		if(current_state == STATE_INIT){
 291              		.loc 1 169 49 is_stmt 0 view .LVU44
 292 0112 2046     		mov	r0, r4
 293 0114 FFF7FEFF 		bl	strlen
 294              	.LVL20:
 169:Src/state.c   **** 		if(current_state == STATE_INIT){
 295              		.loc 1 169 3 view .LVU45
 296 0118 6423     		movs	r3, #100
 297 011a 82B2     		uxth	r2, r0
 298 011c 2146     		mov	r1, r4
 299 011e 2846     		mov	r0, r5
 300 0120 FFF7FEFF 		bl	HAL_UART_Transmit
 301              	.LVL21:
 170:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_INIT\r\n", strlen("\r\nCurrent sta
 302              		.loc 1 170 3 is_stmt 1 view .LVU46
 170:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_INIT\r\n", strlen("\r\nCurrent sta
 303              		.loc 1 170 20 is_stmt 0 view .LVU47
 304 0124 3C4B     		ldr	r3, .L21+80
 305 0126 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 170:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_INIT\r\n", strlen("\r\nCurrent sta
 306              		.loc 1 170 5 view .LVU48
 307 0128 0BB3     		cbz	r3, .L17
 172:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_IDLE\r\n", strlen("\r\nCurrent sta
 308              		.loc 1 172 9 is_stmt 1 view .LVU49
 172:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_IDLE\r\n", strlen("\r\nCurrent sta
 309              		.loc 1 172 11 is_stmt 0 view .LVU50
 310 012a 012B     		cmp	r3, #1
 311 012c 26D0     		beq	.L18
 174:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_SETUP\r\n", strlen("\r\nCurrent st
 312              		.loc 1 174 9 is_stmt 1 view .LVU51
 174:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_SETUP\r\n", strlen("\r\nCurrent st
 313              		.loc 1 174 11 is_stmt 0 view .LVU52
 314 012e 022B     		cmp	r3, #2
 315 0130 2BD0     		beq	.L19
 176:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_RUN\r\n", strlen("\r\nCurrent stat
 316              		.loc 1 176 9 is_stmt 1 view .LVU53
 176:Src/state.c   **** 			HAL_UART_Transmit(&huart3,(uint8_t*)"\r\nCurrent state: STATE_RUN\r\n", strlen("\r\nCurrent stat
 317              		.loc 1 176 11 is_stmt 0 view .LVU54
 318 0132 032B     		cmp	r3, #3
 319 0134 30D0     		beq	.L20
 320              	.L8:
 179:Src/state.c   **** 				"\r\n"
 321              		.loc 1 179 3 is_stmt 1 view .LVU55
ARM GAS  /tmp/cc4aSaQh.s 			page 13


 322 0136 2A4C     		ldr	r4, .L21+24
 323 0138 384B     		ldr	r3, .L21+84
 324 013a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 325 013c 0293     		str	r3, [sp, #8]
 326 013e 384B     		ldr	r3, .L21+88
 327 0140 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 328 0142 0193     		str	r3, [sp, #4]
 329 0144 374B     		ldr	r3, .L21+92
 330 0146 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 331 0148 0093     		str	r3, [sp]
 332 014a 374B     		ldr	r3, .L21+96
 333 014c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 334 014e 374A     		ldr	r2, .L21+100
 335 0150 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 336 0152 3749     		ldr	r1, .L21+104
 337 0154 2046     		mov	r0, r4
 338 0156 FFF7FEFF 		bl	sprintf
 339              	.LVL22:
 188:Src/state.c   **** 	}else if(strcmp(debug_rx,"gay") == 0){
 340              		.loc 1 188 3 view .LVU56
 188:Src/state.c   **** 	}else if(strcmp(debug_rx,"gay") == 0){
 341              		.loc 1 188 49 is_stmt 0 view .LVU57
 342 015a 2046     		mov	r0, r4
 343 015c FFF7FEFF 		bl	strlen
 344              	.LVL23:
 188:Src/state.c   **** 	}else if(strcmp(debug_rx,"gay") == 0){
 345              		.loc 1 188 3 view .LVU58
 346 0160 6423     		movs	r3, #100
 347 0162 82B2     		uxth	r2, r0
 348 0164 2146     		mov	r1, r4
 349 0166 2048     		ldr	r0, .L21+32
 350 0168 FFF7FEFF 		bl	HAL_UART_Transmit
 351              	.LVL24:
 352 016c 88E7     		b	.L1
 353              	.L17:
 171:Src/state.c   **** 		}else if(current_state == STATE_IDLE){
 354              		.loc 1 171 4 is_stmt 1 view .LVU59
 355 016e 6423     		movs	r3, #100
 356 0170 1D22     		movs	r2, #29
 357 0172 3049     		ldr	r1, .L21+108
 358 0174 2846     		mov	r0, r5
 359 0176 FFF7FEFF 		bl	HAL_UART_Transmit
 360              	.LVL25:
 361 017a DCE7     		b	.L8
 362              	.L18:
 173:Src/state.c   **** 		}else if(current_state == STATE_SETUP){
 363              		.loc 1 173 4 view .LVU60
 364 017c 6423     		movs	r3, #100
 365 017e 1D22     		movs	r2, #29
 366 0180 2D49     		ldr	r1, .L21+112
 367 0182 1948     		ldr	r0, .L21+32
 368 0184 FFF7FEFF 		bl	HAL_UART_Transmit
 369              	.LVL26:
 370 0188 D5E7     		b	.L8
 371              	.L19:
 175:Src/state.c   **** 		}else if(current_state == STATE_RUN){
 372              		.loc 1 175 4 view .LVU61
ARM GAS  /tmp/cc4aSaQh.s 			page 14


 373 018a 6423     		movs	r3, #100
 374 018c 1E22     		movs	r2, #30
 375 018e 2B49     		ldr	r1, .L21+116
 376 0190 1548     		ldr	r0, .L21+32
 377 0192 FFF7FEFF 		bl	HAL_UART_Transmit
 378              	.LVL27:
 379 0196 CEE7     		b	.L8
 380              	.L20:
 177:Src/state.c   **** 		}
 381              		.loc 1 177 4 view .LVU62
 382 0198 6423     		movs	r3, #100
 383 019a 1C22     		movs	r2, #28
 384 019c 2849     		ldr	r1, .L21+120
 385 019e 1248     		ldr	r0, .L21+32
 386 01a0 FFF7FEFF 		bl	HAL_UART_Transmit
 387              	.LVL28:
 388 01a4 C7E7     		b	.L8
 389              	.L11:
 209:Src/state.c   **** 		HAL_UART_Transmit(&huart3,(uint8_t*)debug_tx, strlen(debug_tx), 100);
 390              		.loc 1 209 3 view .LVU63
 391 01a6 0E4C     		ldr	r4, .L21+24
 392 01a8 084A     		ldr	r2, .L21+4
 393 01aa 2649     		ldr	r1, .L21+124
 394 01ac 2046     		mov	r0, r4
 395 01ae FFF7FEFF 		bl	sprintf
 396              	.LVL29:
 210:Src/state.c   **** 	}
 397              		.loc 1 210 3 view .LVU64
 210:Src/state.c   **** 	}
 398              		.loc 1 210 49 is_stmt 0 view .LVU65
 399 01b2 2046     		mov	r0, r4
 400 01b4 FFF7FEFF 		bl	strlen
 401              	.LVL30:
 210:Src/state.c   **** 	}
 402              		.loc 1 210 3 view .LVU66
 403 01b8 6423     		movs	r3, #100
 404 01ba 82B2     		uxth	r2, r0
 405 01bc 2146     		mov	r1, r4
 406 01be 0A48     		ldr	r0, .L21+32
 407 01c0 FFF7FEFF 		bl	HAL_UART_Transmit
 408              	.LVL31:
 409              		.loc 1 212 1 view .LVU67
 410 01c4 5CE7     		b	.L1
 411              	.L22:
 412 01c6 00BF     		.align	2
 413              	.L21:
 414 01c8 00000000 		.word	.LC0
 415 01cc 00000000 		.word	debug_rx
 416 01d0 A4000000 		.word	.LC2
 417 01d4 AC000000 		.word	.LC3
 418 01d8 E4000000 		.word	.LC5
 419 01dc E4020000 		.word	.LC13
 420 01e0 00000000 		.word	debug_tx
 421 01e4 E8020000 		.word	.LC14
 422 01e8 00000000 		.word	huart3
 423 01ec 08000000 		.word	.LC1
 424 01f0 00000000 		.word	code_version
ARM GAS  /tmp/cc4aSaQh.s 			page 15


 425 01f4 00000000 		.word	count_dec
 426 01f8 00000000 		.word	count_sec
 427 01fc 00000000 		.word	count_min
 428 0200 00000000 		.word	count_hour
 429 0204 B4000000 		.word	.LC4
 430 0208 00000000 		.word	can1
 431 020c EC000000 		.word	.LC6
 432 0210 00000000 		.word	can3
 433 0214 94010000 		.word	.LC7
 434 0218 00000000 		.word	current_state
 435 021c 00000000 		.word	its3_connected
 436 0220 00000000 		.word	its2_connected
 437 0224 00000000 		.word	its1_connected
 438 0228 00000000 		.word	its0_connected
 439 022c 00000000 		.word	imu_connected
 440 0230 74020000 		.word	.LC12
 441 0234 F4010000 		.word	.LC8
 442 0238 14020000 		.word	.LC9
 443 023c 34020000 		.word	.LC10
 444 0240 54020000 		.word	.LC11
 445 0244 F4030000 		.word	.LC15
 446              		.cfi_endproc
 447              	.LFE148:
 449              		.section	.rodata.imu_operations.str1.4,"aMS",%progbits,1
 450              		.align	2
 451              	.LC16:
 452 0000 494D5520 		.ascii	"IMU presente\015\012\000"
 452      70726573 
 452      656E7465 
 452      0D0A00
 453              		.section	.text.imu_operations,"ax",%progbits
 454              		.align	1
 455              		.global	imu_operations
 456              		.syntax unified
 457              		.thumb
 458              		.thumb_func
 459              		.fpu fpv5-d16
 461              	imu_operations:
 462              	.LFB149:
 213:Src/state.c   **** 
 214:Src/state.c   **** void imu_operations(){
 463              		.loc 1 214 22 is_stmt 1 view -0
 464              		.cfi_startproc
 465              		@ args = 0, pretend = 0, frame = 0
 466              		@ frame_needed = 0, uses_anonymous_args = 0
 467 0000 08B5     		push	{r3, lr}
 468              	.LCFI4:
 469              		.cfi_def_cfa_offset 8
 470              		.cfi_offset 3, -8
 471              		.cfi_offset 14, -4
 215:Src/state.c   **** 	imu_connected = 1; //imu connected true
 472              		.loc 1 215 2 view .LVU69
 473              		.loc 1 215 16 is_stmt 0 view .LVU70
 474 0002 0A4B     		ldr	r3, .L27
 475 0004 0122     		movs	r2, #1
 476 0006 1A70     		strb	r2, [r3]
 216:Src/state.c   **** 	if(count_imu == 10 || count_imu == 11){
ARM GAS  /tmp/cc4aSaQh.s 			page 16


 477              		.loc 1 216 2 is_stmt 1 view .LVU71
 478              		.loc 1 216 21 is_stmt 0 view .LVU72
 479 0008 094B     		ldr	r3, .L27+4
 480 000a 1B88     		ldrh	r3, [r3]
 481 000c 0A3B     		subs	r3, r3, #10
 482 000e 9BB2     		uxth	r3, r3
 483              		.loc 1 216 4 view .LVU73
 484 0010 9342     		cmp	r3, r2
 485 0012 03D9     		bls	.L26
 486              	.L24:
 217:Src/state.c   **** 		HAL_UART_Transmit(&huart3, (uint8_t*)"IMU presente\r\n", strlen("IMU presente\r\n"), 10);
 218:Src/state.c   **** 	}
 219:Src/state.c   **** 	count_imu = 0;
 487              		.loc 1 219 2 is_stmt 1 view .LVU74
 488              		.loc 1 219 12 is_stmt 0 view .LVU75
 489 0014 064B     		ldr	r3, .L27+4
 490 0016 0022     		movs	r2, #0
 491 0018 1A80     		strh	r2, [r3]	@ movhi
 220:Src/state.c   **** }
 492              		.loc 1 220 1 view .LVU76
 493 001a 08BD     		pop	{r3, pc}
 494              	.L26:
 217:Src/state.c   **** 		HAL_UART_Transmit(&huart3, (uint8_t*)"IMU presente\r\n", strlen("IMU presente\r\n"), 10);
 495              		.loc 1 217 3 is_stmt 1 view .LVU77
 496 001c 0A23     		movs	r3, #10
 497 001e 0E22     		movs	r2, #14
 498 0020 0449     		ldr	r1, .L27+8
 499 0022 0548     		ldr	r0, .L27+12
 500 0024 FFF7FEFF 		bl	HAL_UART_Transmit
 501              	.LVL32:
 502 0028 F4E7     		b	.L24
 503              	.L28:
 504 002a 00BF     		.align	2
 505              	.L27:
 506 002c 00000000 		.word	imu_connected
 507 0030 00000000 		.word	count_imu
 508 0034 00000000 		.word	.LC16
 509 0038 00000000 		.word	huart3
 510              		.cfi_endproc
 511              	.LFE149:
 513              		.section	.text.init,"ax",%progbits
 514              		.align	1
 515              		.global	init
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 519              		.fpu fpv5-d16
 521              	init:
 522              	.LFB144:
  13:Src/state.c   **** 	if(debug_msg_arrived == 1){
 523              		.loc 1 13 12 view -0
 524              		.cfi_startproc
 525              		@ args = 0, pretend = 0, frame = 0
 526              		@ frame_needed = 0, uses_anonymous_args = 0
 527 0000 08B5     		push	{r3, lr}
 528              	.LCFI5:
 529              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc4aSaQh.s 			page 17


 530              		.cfi_offset 3, -8
 531              		.cfi_offset 14, -4
  14:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
 532              		.loc 1 14 2 view .LVU79
  14:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
 533              		.loc 1 14 23 is_stmt 0 view .LVU80
 534 0002 0F4B     		ldr	r3, .L35
 535 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  14:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
 536              		.loc 1 14 4 view .LVU81
 537 0006 012B     		cmp	r3, #1
 538 0008 10D0     		beq	.L33
 539              	.L30:
  18:Src/state.c   **** 		switch (can1.rx_id){
 540              		.loc 1 18 2 is_stmt 1 view .LVU82
  18:Src/state.c   **** 		switch (can1.rx_id){
 541              		.loc 1 18 5 is_stmt 0 view .LVU83
 542 000a 0E48     		ldr	r0, .L35+4
 543 000c FFF7FEFF 		bl	fifoRxDataCAN_pop
 544              	.LVL33:
  18:Src/state.c   **** 		switch (can1.rx_id){
 545              		.loc 1 18 4 view .LVU84
 546 0010 28B1     		cbz	r0, .L31
  19:Src/state.c   **** 		case ID_imu_acceleration:
 547              		.loc 1 19 3 is_stmt 1 view .LVU85
  19:Src/state.c   **** 		case ID_imu_acceleration:
 548              		.loc 1 19 15 is_stmt 0 view .LVU86
 549 0012 0C4B     		ldr	r3, .L35+4
 550 0014 5B6A     		ldr	r3, [r3, #36]
  19:Src/state.c   **** 		case ID_imu_acceleration:
 551              		.loc 1 19 3 view .LVU87
 552 0016 A3F2EC43 		subw	r3, r3, #1260
 553 001a 012B     		cmp	r3, #1
 554 001c 0CD9     		bls	.L34
 555              	.L31:
  29:Src/state.c   **** 
 556              		.loc 1 29 2 is_stmt 1 view .LVU88
  29:Src/state.c   **** 
 557              		.loc 1 29 5 is_stmt 0 view .LVU89
 558 001e 0A48     		ldr	r0, .L35+8
 559 0020 FFF7FEFF 		bl	fifoRxDataCAN_pop
 560              	.LVL34:
  31:Src/state.c   **** 	current_state = STATE_IDLE;
 561              		.loc 1 31 2 is_stmt 1 view .LVU90
  32:Src/state.c   **** }
 562              		.loc 1 32 2 view .LVU91
  32:Src/state.c   **** }
 563              		.loc 1 32 16 is_stmt 0 view .LVU92
 564 0024 094B     		ldr	r3, .L35+12
 565 0026 0122     		movs	r2, #1
 566 0028 1A70     		strb	r2, [r3]
  33:Src/state.c   **** /*******************************************************************
 567              		.loc 1 33 1 view .LVU93
 568 002a 08BD     		pop	{r3, pc}
 569              	.L33:
  15:Src/state.c   **** 		debug_operations();
 570              		.loc 1 15 3 is_stmt 1 view .LVU94
ARM GAS  /tmp/cc4aSaQh.s 			page 18


  15:Src/state.c   **** 		debug_operations();
 571              		.loc 1 15 21 is_stmt 0 view .LVU95
 572 002c 044B     		ldr	r3, .L35
 573 002e 0022     		movs	r2, #0
 574 0030 1A70     		strb	r2, [r3]
  16:Src/state.c   **** 	}
 575              		.loc 1 16 3 is_stmt 1 view .LVU96
 576 0032 FFF7FEFF 		bl	debug_operations
 577              	.LVL35:
 578 0036 E8E7     		b	.L30
 579              	.L34:
  22:Src/state.c   **** 			break;
 580              		.loc 1 22 4 view .LVU97
 581 0038 FFF7FEFF 		bl	imu_operations
 582              	.LVL36:
  23:Src/state.c   **** 		
 583              		.loc 1 23 4 view .LVU98
 584 003c EFE7     		b	.L31
 585              	.L36:
 586 003e 00BF     		.align	2
 587              	.L35:
 588 0040 00000000 		.word	debug_msg_arrived
 589 0044 00000000 		.word	can1
 590 0048 00000000 		.word	can3
 591 004c 00000000 		.word	current_state
 592              		.cfi_endproc
 593              	.LFE144:
 595              		.section	.text.atc_pot_operations,"ax",%progbits
 596              		.align	1
 597              		.global	atc_pot_operations
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 601              		.fpu fpv5-d16
 603              	atc_pot_operations:
 604              	.LFB150:
 221:Src/state.c   **** void atc_pot_operations(){
 605              		.loc 1 221 26 view -0
 606              		.cfi_startproc
 607              		@ args = 0, pretend = 0, frame = 0
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 609 0000 08B5     		push	{r3, lr}
 610              	.LCFI6:
 611              		.cfi_def_cfa_offset 8
 612              		.cfi_offset 3, -8
 613              		.cfi_offset 14, -4
 222:Src/state.c   **** 	atc_connected = 1;
 614              		.loc 1 222 2 view .LVU100
 615              		.loc 1 222 16 is_stmt 0 view .LVU101
 616 0002 104B     		ldr	r3, .L41
 617 0004 0122     		movs	r2, #1
 618 0006 1A70     		strb	r2, [r3]
 223:Src/state.c   **** 	count_atc = 0;
 619              		.loc 1 223 2 is_stmt 1 view .LVU102
 620              		.loc 1 223 12 is_stmt 0 view .LVU103
 621 0008 0F4B     		ldr	r3, .L41+4
 622 000a 0022     		movs	r2, #0
ARM GAS  /tmp/cc4aSaQh.s 			page 19


 623 000c 1A80     		strh	r2, [r3]	@ movhi
 224:Src/state.c   **** 	accel.pot1_val = can1.dataRx[0];
 624              		.loc 1 224 2 is_stmt 1 view .LVU104
 625              		.loc 1 224 30 is_stmt 0 view .LVU105
 626 000e 0F4B     		ldr	r3, .L41+8
 627 0010 197C     		ldrb	r1, [r3, #16]	@ zero_extendqisi2
 628              		.loc 1 224 17 view .LVU106
 629 0012 0F4A     		ldr	r2, .L41+12
 630 0014 1160     		str	r1, [r2]
 225:Src/state.c   **** 	accel.pot2_val = can1.dataRx[1];
 631              		.loc 1 225 2 is_stmt 1 view .LVU107
 632              		.loc 1 225 30 is_stmt 0 view .LVU108
 633 0016 597C     		ldrb	r1, [r3, #17]	@ zero_extendqisi2
 634              		.loc 1 225 17 view .LVU109
 635 0018 5160     		str	r1, [r2, #4]
 226:Src/state.c   **** 	brake.pot1_val = can1.dataRx[2];
 636              		.loc 1 226 2 is_stmt 1 view .LVU110
 637              		.loc 1 226 30 is_stmt 0 view .LVU111
 638 001a 997C     		ldrb	r1, [r3, #18]	@ zero_extendqisi2
 639              		.loc 1 226 17 view .LVU112
 640 001c 0D4A     		ldr	r2, .L41+16
 641 001e 1160     		str	r1, [r2]
 227:Src/state.c   **** 	brake.pot2_val = can1.dataRx[3];
 642              		.loc 1 227 2 is_stmt 1 view .LVU113
 643              		.loc 1 227 30 is_stmt 0 view .LVU114
 644 0020 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
 645              		.loc 1 227 17 view .LVU115
 646 0022 5360     		str	r3, [r2, #4]
 228:Src/state.c   **** 	if(accel_implausibility_check()){
 647              		.loc 1 228 2 is_stmt 1 view .LVU116
 648              		.loc 1 228 5 is_stmt 0 view .LVU117
 649 0024 FFF7FEFF 		bl	accel_implausibility_check
 650              	.LVL37:
 651              		.loc 1 228 4 view .LVU118
 652 0028 18B1     		cbz	r0, .L38
 229:Src/state.c   **** 		accel.pot1_val = 0;
 653              		.loc 1 229 3 is_stmt 1 view .LVU119
 654              		.loc 1 229 18 is_stmt 0 view .LVU120
 655 002a 094B     		ldr	r3, .L41+12
 656 002c 0022     		movs	r2, #0
 657 002e 1A60     		str	r2, [r3]
 230:Src/state.c   **** 		accel.pot2_val = 0;
 658              		.loc 1 230 3 is_stmt 1 view .LVU121
 659              		.loc 1 230 18 is_stmt 0 view .LVU122
 660 0030 5A60     		str	r2, [r3, #4]
 661              	.L38:
 231:Src/state.c   **** 	}
 232:Src/state.c   **** 	if(brake_implausibility_check()){
 662              		.loc 1 232 2 is_stmt 1 view .LVU123
 663              		.loc 1 232 5 is_stmt 0 view .LVU124
 664 0032 FFF7FEFF 		bl	brake_implausibility_check
 665              	.LVL38:
 666              		.loc 1 232 4 view .LVU125
 667 0036 18B1     		cbz	r0, .L37
 233:Src/state.c   **** 		brake.pot1_val = 0;
 668              		.loc 1 233 3 is_stmt 1 view .LVU126
 669              		.loc 1 233 18 is_stmt 0 view .LVU127
ARM GAS  /tmp/cc4aSaQh.s 			page 20


 670 0038 064B     		ldr	r3, .L41+16
 671 003a 0022     		movs	r2, #0
 672 003c 1A60     		str	r2, [r3]
 234:Src/state.c   **** 		brake.pot2_val = 0;
 673              		.loc 1 234 3 is_stmt 1 view .LVU128
 674              		.loc 1 234 18 is_stmt 0 view .LVU129
 675 003e 5A60     		str	r2, [r3, #4]
 676              	.L37:
 235:Src/state.c   **** 	}
 236:Src/state.c   **** 
 237:Src/state.c   **** }
 677              		.loc 1 237 1 view .LVU130
 678 0040 08BD     		pop	{r3, pc}
 679              	.L42:
 680 0042 00BF     		.align	2
 681              	.L41:
 682 0044 00000000 		.word	atc_connected
 683 0048 00000000 		.word	count_atc
 684 004c 00000000 		.word	can1
 685 0050 00000000 		.word	accel
 686 0054 00000000 		.word	brake
 687              		.cfi_endproc
 688              	.LFE150:
 690              		.section	.text.idle,"ax",%progbits
 691              		.align	1
 692              		.global	idle
 693              		.syntax unified
 694              		.thumb
 695              		.thumb_func
 696              		.fpu fpv5-d16
 698              	idle:
 699              	.LFB145:
  40:Src/state.c   **** 	if(debug_msg_arrived == 1){
 700              		.loc 1 40 12 is_stmt 1 view -0
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 0
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704 0000 08B5     		push	{r3, lr}
 705              	.LCFI7:
 706              		.cfi_def_cfa_offset 8
 707              		.cfi_offset 3, -8
 708              		.cfi_offset 14, -4
  41:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
 709              		.loc 1 41 2 view .LVU132
  41:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
 710              		.loc 1 41 23 is_stmt 0 view .LVU133
 711 0002 1D4B     		ldr	r3, .L53
 712 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  41:Src/state.c   **** 		debug_msg_arrived = 0; // reset flag
 713              		.loc 1 41 4 view .LVU134
 714 0006 012B     		cmp	r3, #1
 715 0008 0CD0     		beq	.L50
 716              	.L44:
  45:Src/state.c   **** 		switch(can1.rx_id){
 717              		.loc 1 45 2 is_stmt 1 view .LVU135
  45:Src/state.c   **** 		switch(can1.rx_id){
 718              		.loc 1 45 5 is_stmt 0 view .LVU136
ARM GAS  /tmp/cc4aSaQh.s 			page 21


 719 000a 1C48     		ldr	r0, .L53+4
 720 000c FFF7FEFF 		bl	fifoRxDataCAN_pop
 721              	.LVL39:
  45:Src/state.c   **** 		switch(can1.rx_id){
 722              		.loc 1 45 4 view .LVU137
 723 0010 38B1     		cbz	r0, .L43
  46:Src/state.c   **** 			case ID_ASK_STATE:
 724              		.loc 1 46 3 is_stmt 1 view .LVU138
  46:Src/state.c   **** 			case ID_ASK_STATE:
 725              		.loc 1 46 14 is_stmt 0 view .LVU139
 726 0012 1A4B     		ldr	r3, .L53+4
 727 0014 5B6A     		ldr	r3, [r3, #36]
  46:Src/state.c   **** 			case ID_ASK_STATE:
 728              		.loc 1 46 3 view .LVU140
 729 0016 342B     		cmp	r3, #52
 730 0018 2BD0     		beq	.L46
 731 001a A02B     		cmp	r3, #160
 732 001c 1AD0     		beq	.L47
 733 001e 102B     		cmp	r3, #16
 734 0020 06D0     		beq	.L51
 735              	.L43:
  82:Src/state.c   **** /*******************************************************************
 736              		.loc 1 82 1 view .LVU141
 737 0022 08BD     		pop	{r3, pc}
 738              	.L50:
  42:Src/state.c   **** 		debug_operations();
 739              		.loc 1 42 3 is_stmt 1 view .LVU142
  42:Src/state.c   **** 		debug_operations();
 740              		.loc 1 42 21 is_stmt 0 view .LVU143
 741 0024 144B     		ldr	r3, .L53
 742 0026 0022     		movs	r2, #0
 743 0028 1A70     		strb	r2, [r3]
  43:Src/state.c   **** 	}
 744              		.loc 1 43 3 is_stmt 1 view .LVU144
 745 002a FFF7FEFF 		bl	debug_operations
 746              	.LVL40:
 747 002e ECE7     		b	.L44
 748              	.L51:
  48:Src/state.c   **** 				can1.dataTx[1] = 0;
 749              		.loc 1 48 5 view .LVU145
  48:Src/state.c   **** 				can1.dataTx[1] = 0;
 750              		.loc 1 48 20 is_stmt 0 view .LVU146
 751 0030 1248     		ldr	r0, .L53+4
 752 0032 134B     		ldr	r3, .L53+8
 753 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 754 0036 0372     		strb	r3, [r0, #8]
  49:Src/state.c   **** 				can1.dataTx[2] = 0;
 755              		.loc 1 49 5 is_stmt 1 view .LVU147
  49:Src/state.c   **** 				can1.dataTx[2] = 0;
 756              		.loc 1 49 20 is_stmt 0 view .LVU148
 757 0038 0021     		movs	r1, #0
 758 003a 4172     		strb	r1, [r0, #9]
  50:Src/state.c   **** 				can1.dataTx[3] = 0;
 759              		.loc 1 50 5 is_stmt 1 view .LVU149
  50:Src/state.c   **** 				can1.dataTx[3] = 0;
 760              		.loc 1 50 20 is_stmt 0 view .LVU150
 761 003c 8172     		strb	r1, [r0, #10]
ARM GAS  /tmp/cc4aSaQh.s 			page 22


  51:Src/state.c   **** 				can1.dataTx[4] = 0;
 762              		.loc 1 51 5 is_stmt 1 view .LVU151
  51:Src/state.c   **** 				can1.dataTx[4] = 0;
 763              		.loc 1 51 20 is_stmt 0 view .LVU152
 764 003e C172     		strb	r1, [r0, #11]
  52:Src/state.c   **** 				can1.dataTx[5] = 0;
 765              		.loc 1 52 5 is_stmt 1 view .LVU153
  52:Src/state.c   **** 				can1.dataTx[5] = 0;
 766              		.loc 1 52 20 is_stmt 0 view .LVU154
 767 0040 0173     		strb	r1, [r0, #12]
  53:Src/state.c   **** 				can1.dataTx[6] = 0;
 768              		.loc 1 53 5 is_stmt 1 view .LVU155
  53:Src/state.c   **** 				can1.dataTx[6] = 0;
 769              		.loc 1 53 20 is_stmt 0 view .LVU156
 770 0042 4173     		strb	r1, [r0, #13]
  54:Src/state.c   **** 				can1.dataTx[7] = 0;
 771              		.loc 1 54 5 is_stmt 1 view .LVU157
  54:Src/state.c   **** 				can1.dataTx[7] = 0;
 772              		.loc 1 54 20 is_stmt 0 view .LVU158
 773 0044 8173     		strb	r1, [r0, #14]
  55:Src/state.c   **** 				can1.tx_id = ID_ACU_1;
 774              		.loc 1 55 5 is_stmt 1 view .LVU159
  55:Src/state.c   **** 				can1.tx_id = ID_ACU_1;
 775              		.loc 1 55 20 is_stmt 0 view .LVU160
 776 0046 C173     		strb	r1, [r0, #15]
  56:Src/state.c   **** 				CAN_Send(&can1, normalPriority);
 777              		.loc 1 56 5 is_stmt 1 view .LVU161
  56:Src/state.c   **** 				CAN_Send(&can1, normalPriority);
 778              		.loc 1 56 16 is_stmt 0 view .LVU162
 779 0048 4FF48073 		mov	r3, #256
 780 004c 0362     		str	r3, [r0, #32]
  57:Src/state.c   **** 				break;
 781              		.loc 1 57 5 is_stmt 1 view .LVU163
 782 004e FFF7FEFF 		bl	CAN_Send
 783              	.LVL41:
  58:Src/state.c   **** 			case ID_ASK_INV_DX:
 784              		.loc 1 58 5 view .LVU164
 785 0052 E6E7     		b	.L43
 786              	.L47:
  68:Src/state.c   **** 					current_state = can1.dataRx[1];
 787              		.loc 1 68 5 view .LVU165
  68:Src/state.c   **** 					current_state = can1.dataRx[1];
 788              		.loc 1 68 19 is_stmt 0 view .LVU166
 789 0054 094B     		ldr	r3, .L53+4
 790 0056 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
  68:Src/state.c   **** 					current_state = can1.dataRx[1];
 791              		.loc 1 68 7 view .LVU167
 792 0058 022B     		cmp	r3, #2
 793 005a 05D0     		beq	.L52
  70:Src/state.c   **** 					current_state = STATE_SETUP;
 794              		.loc 1 70 11 is_stmt 1 view .LVU168
  70:Src/state.c   **** 					current_state = STATE_SETUP;
 795              		.loc 1 70 13 is_stmt 0 view .LVU169
 796 005c 032B     		cmp	r3, #3
 797 005e E0D1     		bne	.L43
  71:Src/state.c   **** 				}
 798              		.loc 1 71 6 is_stmt 1 view .LVU170
ARM GAS  /tmp/cc4aSaQh.s 			page 23


  71:Src/state.c   **** 				}
 799              		.loc 1 71 20 is_stmt 0 view .LVU171
 800 0060 074B     		ldr	r3, .L53+8
 801 0062 0222     		movs	r2, #2
 802 0064 1A70     		strb	r2, [r3]
 803 0066 DCE7     		b	.L43
 804              	.L52:
  69:Src/state.c   **** 				}else if(can1.dataRx[0] == 3){ //----- change state to setup -----//
 805              		.loc 1 69 6 is_stmt 1 view .LVU172
  69:Src/state.c   **** 				}else if(can1.dataRx[0] == 3){ //----- change state to setup -----//
 806              		.loc 1 69 33 is_stmt 0 view .LVU173
 807 0068 044B     		ldr	r3, .L53+4
 808 006a 5A7C     		ldrb	r2, [r3, #17]	@ zero_extendqisi2
  69:Src/state.c   **** 				}else if(can1.dataRx[0] == 3){ //----- change state to setup -----//
 809              		.loc 1 69 20 view .LVU174
 810 006c 044B     		ldr	r3, .L53+8
 811 006e 1A70     		strb	r2, [r3]
 812 0070 D7E7     		b	.L43
 813              	.L46:
  75:Src/state.c   **** 				break;
 814              		.loc 1 75 5 is_stmt 1 view .LVU175
 815 0072 FFF7FEFF 		bl	atc_pot_operations
 816              	.LVL42:
  76:Src/state.c   **** 			default:
 817              		.loc 1 76 5 view .LVU176
  82:Src/state.c   **** /*******************************************************************
 818              		.loc 1 82 1 is_stmt 0 view .LVU177
 819 0076 D4E7     		b	.L43
 820              	.L54:
 821              		.align	2
 822              	.L53:
 823 0078 00000000 		.word	debug_msg_arrived
 824 007c 00000000 		.word	can1
 825 0080 00000000 		.word	current_state
 826              		.cfi_endproc
 827              	.LFE145:
 829              		.section	.text.setup,"ax",%progbits
 830              		.align	1
 831              		.global	setup
 832              		.syntax unified
 833              		.thumb
 834              		.thumb_func
 835              		.fpu fpv5-d16
 837              	setup:
 838              	.LFB146:
  89:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can1)){
 839              		.loc 1 89 13 is_stmt 1 view -0
 840              		.cfi_startproc
 841              		@ args = 0, pretend = 0, frame = 0
 842              		@ frame_needed = 0, uses_anonymous_args = 0
 843 0000 08B5     		push	{r3, lr}
 844              	.LCFI8:
 845              		.cfi_def_cfa_offset 8
 846              		.cfi_offset 3, -8
 847              		.cfi_offset 14, -4
  90:Src/state.c   **** 		switch(can1.rx_id){
 848              		.loc 1 90 2 view .LVU179
ARM GAS  /tmp/cc4aSaQh.s 			page 24


  90:Src/state.c   **** 		switch(can1.rx_id){
 849              		.loc 1 90 5 is_stmt 0 view .LVU180
 850 0002 1248     		ldr	r0, .L62
 851 0004 FFF7FEFF 		bl	fifoRxDataCAN_pop
 852              	.LVL43:
  90:Src/state.c   **** 		switch(can1.rx_id){
 853              		.loc 1 90 4 view .LVU181
 854 0008 68B1     		cbz	r0, .L55
  91:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 855              		.loc 1 91 3 is_stmt 1 view .LVU182
  91:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 856              		.loc 1 91 14 is_stmt 0 view .LVU183
 857 000a 104B     		ldr	r3, .L62
 858 000c 5B6A     		ldr	r3, [r3, #36]
  91:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 859              		.loc 1 91 3 view .LVU184
 860 000e 342B     		cmp	r3, #52
 861 0010 07D0     		beq	.L57
 862 0012 A02B     		cmp	r3, #160
 863 0014 07D1     		bne	.L55
  93:Src/state.c   **** 					current_state = STATE_IDLE;
 864              		.loc 1 93 5 is_stmt 1 view .LVU185
  93:Src/state.c   **** 					current_state = STATE_IDLE;
 865              		.loc 1 93 19 is_stmt 0 view .LVU186
 866 0016 0D4B     		ldr	r3, .L62
 867 0018 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
  93:Src/state.c   **** 					current_state = STATE_IDLE;
 868              		.loc 1 93 7 view .LVU187
 869 001a 042B     		cmp	r3, #4
 870 001c 04D0     		beq	.L60
  95:Src/state.c   **** 					current_state = STATE_RUN;
 871              		.loc 1 95 11 is_stmt 1 view .LVU188
  95:Src/state.c   **** 					current_state = STATE_RUN;
 872              		.loc 1 95 13 is_stmt 0 view .LVU189
 873 001e 052B     		cmp	r3, #5
 874 0020 06D0     		beq	.L61
 875              	.L57:
 103:Src/state.c   **** 				break;
 876              		.loc 1 103 5 is_stmt 1 view .LVU190
 877 0022 FFF7FEFF 		bl	atc_pot_operations
 878              	.LVL44:
 104:Src/state.c   **** 			default:
 879              		.loc 1 104 5 view .LVU191
 880              	.L55:
 109:Src/state.c   **** /*******************************************************************
 881              		.loc 1 109 1 is_stmt 0 view .LVU192
 882 0026 08BD     		pop	{r3, pc}
 883              	.L60:
  94:Src/state.c   **** 				}else if(can1.dataRx[0] == 5){ //----- change state to run -----//
 884              		.loc 1 94 6 is_stmt 1 view .LVU193
  94:Src/state.c   **** 				}else if(can1.dataRx[0] == 5){ //----- change state to run -----//
 885              		.loc 1 94 20 is_stmt 0 view .LVU194
 886 0028 094B     		ldr	r3, .L62+4
 887 002a 0122     		movs	r2, #1
 888 002c 1A70     		strb	r2, [r3]
 889 002e F8E7     		b	.L57
 890              	.L61:
ARM GAS  /tmp/cc4aSaQh.s 			page 25


  96:Src/state.c   **** 					can1.tx_id = ID_ACU_2;
 891              		.loc 1 96 6 is_stmt 1 view .LVU195
  96:Src/state.c   **** 					can1.tx_id = ID_ACU_2;
 892              		.loc 1 96 20 is_stmt 0 view .LVU196
 893 0030 074B     		ldr	r3, .L62+4
 894 0032 0322     		movs	r2, #3
 895 0034 1A70     		strb	r2, [r3]
  97:Src/state.c   **** 					can1.dataRx[0] = 5;
 896              		.loc 1 97 6 is_stmt 1 view .LVU197
  97:Src/state.c   **** 					can1.dataRx[0] = 5;
 897              		.loc 1 97 17 is_stmt 0 view .LVU198
 898 0036 0548     		ldr	r0, .L62
 899 0038 5523     		movs	r3, #85
 900 003a 0362     		str	r3, [r0, #32]
  98:Src/state.c   **** 					can1.tx_size = 1;
 901              		.loc 1 98 6 is_stmt 1 view .LVU199
  98:Src/state.c   **** 					can1.tx_size = 1;
 902              		.loc 1 98 21 is_stmt 0 view .LVU200
 903 003c 0523     		movs	r3, #5
 904 003e 0374     		strb	r3, [r0, #16]
  99:Src/state.c   **** 					CAN_Send(&can1, normalPriority);
 905              		.loc 1 99 6 is_stmt 1 view .LVU201
  99:Src/state.c   **** 					CAN_Send(&can1, normalPriority);
 906              		.loc 1 99 19 is_stmt 0 view .LVU202
 907 0040 0123     		movs	r3, #1
 908 0042 0360     		str	r3, [r0]
 100:Src/state.c   **** 				}
 909              		.loc 1 100 6 is_stmt 1 view .LVU203
 910 0044 0021     		movs	r1, #0
 911 0046 FFF7FEFF 		bl	CAN_Send
 912              	.LVL45:
 913 004a EAE7     		b	.L57
 914              	.L63:
 915              		.align	2
 916              	.L62:
 917 004c 00000000 		.word	can1
 918 0050 00000000 		.word	current_state
 919              		.cfi_endproc
 920              	.LFE146:
 922              		.section	.text.run,"ax",%progbits
 923              		.align	1
 924              		.global	run
 925              		.syntax unified
 926              		.thumb
 927              		.thumb_func
 928              		.fpu fpv5-d16
 930              	run:
 931              	.LFB147:
 116:Src/state.c   **** 	if(fifoRxDataCAN_pop(&can1)){
 932              		.loc 1 116 11 view -0
 933              		.cfi_startproc
 934              		@ args = 0, pretend = 0, frame = 0
 935              		@ frame_needed = 0, uses_anonymous_args = 0
 936 0000 08B5     		push	{r3, lr}
 937              	.LCFI9:
 938              		.cfi_def_cfa_offset 8
 939              		.cfi_offset 3, -8
ARM GAS  /tmp/cc4aSaQh.s 			page 26


 940              		.cfi_offset 14, -4
 117:Src/state.c   **** 		switch(can1.rx_id){
 941              		.loc 1 117 2 view .LVU205
 117:Src/state.c   **** 		switch(can1.rx_id){
 942              		.loc 1 117 5 is_stmt 0 view .LVU206
 943 0002 0A48     		ldr	r0, .L68
 944 0004 FFF7FEFF 		bl	fifoRxDataCAN_pop
 945              	.LVL46:
 117:Src/state.c   **** 		switch(can1.rx_id){
 946              		.loc 1 117 4 view .LVU207
 947 0008 78B1     		cbz	r0, .L64
 118:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 948              		.loc 1 118 3 is_stmt 1 view .LVU208
 118:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 949              		.loc 1 118 14 is_stmt 0 view .LVU209
 950 000a 084B     		ldr	r3, .L68
 951 000c 5B6A     		ldr	r3, [r3, #36]
 118:Src/state.c   **** 			case ID_STEERING_WEEL_1:
 952              		.loc 1 118 3 view .LVU210
 953 000e 342B     		cmp	r3, #52
 954 0010 09D0     		beq	.L66
 955 0012 A02B     		cmp	r3, #160
 956 0014 09D1     		bne	.L64
 120:Src/state.c   **** 					current_state = STATE_SETUP;
 957              		.loc 1 120 5 is_stmt 1 view .LVU211
 120:Src/state.c   **** 					current_state = STATE_SETUP;
 958              		.loc 1 120 19 is_stmt 0 view .LVU212
 959 0016 054B     		ldr	r3, .L68
 960 0018 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 120:Src/state.c   **** 					current_state = STATE_SETUP;
 961              		.loc 1 120 7 view .LVU213
 962 001a 062B     		cmp	r3, #6
 963 001c 05D1     		bne	.L64
 121:Src/state.c   **** 				}
 964              		.loc 1 121 6 is_stmt 1 view .LVU214
 121:Src/state.c   **** 				}
 965              		.loc 1 121 20 is_stmt 0 view .LVU215
 966 001e 044B     		ldr	r3, .L68+4
 967 0020 0222     		movs	r2, #2
 968 0022 1A70     		strb	r2, [r3]
 969 0024 01E0     		b	.L64
 970              	.L66:
 125:Src/state.c   **** 				break;
 971              		.loc 1 125 5 is_stmt 1 view .LVU216
 972 0026 FFF7FEFF 		bl	atc_pot_operations
 973              	.LVL47:
 126:Src/state.c   **** 			default:
 974              		.loc 1 126 5 view .LVU217
 975              	.L64:
 131:Src/state.c   **** /*******************************************************************
 976              		.loc 1 131 1 is_stmt 0 view .LVU218
 977 002a 08BD     		pop	{r3, pc}
 978              	.L69:
 979              		.align	2
 980              	.L68:
 981 002c 00000000 		.word	can1
 982 0030 00000000 		.word	current_state
ARM GAS  /tmp/cc4aSaQh.s 			page 27


 983              		.cfi_endproc
 984              	.LFE147:
 986              		.comm	current_state,1,1
 987              		.text
 988              	.Letext0:
 989              		.file 2 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f767xx.h"
 990              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
 991              		.file 4 "/usr/arm-none-eabi/include/sys/_stdint.h"
 992              		.file 5 "Inc/state.h"
 993              		.file 6 "Drivers/CMSIS/Include/core_cm7.h"
 994              		.file 7 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 995              		.file 8 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f7xx.h"
 996              		.file 9 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 997              		.file 10 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 998              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_can.h"
 999              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_uart.h"
 1000              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 1001              		.file 14 "Inc/can.h"
 1002              		.file 15 "Middlewares/Third_Party/FatFs/src/integer.h"
 1003              		.file 16 "/usr/arm-none-eabi/include/sys/lock.h"
 1004              		.file 17 "/usr/arm-none-eabi/include/sys/_types.h"
 1005              		.file 18 "/usr/lib/gcc/arm-none-eabi/9.2.0/include/stddef.h"
 1006              		.file 19 "/usr/arm-none-eabi/include/sys/reent.h"
 1007              		.file 20 "/usr/arm-none-eabi/include/stdlib.h"
 1008              		.file 21 "Middlewares/Third_Party/FatFs/src/ff.h"
 1009              		.file 22 "Middlewares/Third_Party/FatFs/src/diskio.h"
 1010              		.file 23 "Middlewares/Third_Party/FatFs/src/ff_gen_drv.h"
 1011              		.file 24 "Inc/sd_diskio.h"
 1012              		.file 25 "Inc/fatfs.h"
 1013              		.file 26 "Inc/pedals.h"
 1014              		.file 27 "Inc/global_variables.h"
 1015              		.file 28 "/usr/arm-none-eabi/include/string.h"
 1016              		.file 29 "/usr/arm-none-eabi/include/stdio.h"
 1017              		.file 30 "<built-in>"
ARM GAS  /tmp/cc4aSaQh.s 			page 28


DEFINED SYMBOLS
                            *ABS*:0000000000000000 state.c
     /tmp/cc4aSaQh.s:17     .rodata.debug_operations.str1.4:0000000000000000 $d
     /tmp/cc4aSaQh.s:86     .text.debug_operations:0000000000000000 $t
     /tmp/cc4aSaQh.s:94     .text.debug_operations:0000000000000000 debug_operations
     /tmp/cc4aSaQh.s:414    .text.debug_operations:00000000000001c8 $d
                            *COM*:0000000000000001 current_state
     /tmp/cc4aSaQh.s:450    .rodata.imu_operations.str1.4:0000000000000000 $d
     /tmp/cc4aSaQh.s:454    .text.imu_operations:0000000000000000 $t
     /tmp/cc4aSaQh.s:461    .text.imu_operations:0000000000000000 imu_operations
     /tmp/cc4aSaQh.s:506    .text.imu_operations:000000000000002c $d
     /tmp/cc4aSaQh.s:514    .text.init:0000000000000000 $t
     /tmp/cc4aSaQh.s:521    .text.init:0000000000000000 init
     /tmp/cc4aSaQh.s:588    .text.init:0000000000000040 $d
     /tmp/cc4aSaQh.s:596    .text.atc_pot_operations:0000000000000000 $t
     /tmp/cc4aSaQh.s:603    .text.atc_pot_operations:0000000000000000 atc_pot_operations
     /tmp/cc4aSaQh.s:682    .text.atc_pot_operations:0000000000000044 $d
     /tmp/cc4aSaQh.s:691    .text.idle:0000000000000000 $t
     /tmp/cc4aSaQh.s:698    .text.idle:0000000000000000 idle
     /tmp/cc4aSaQh.s:823    .text.idle:0000000000000078 $d
     /tmp/cc4aSaQh.s:830    .text.setup:0000000000000000 $t
     /tmp/cc4aSaQh.s:837    .text.setup:0000000000000000 setup
     /tmp/cc4aSaQh.s:917    .text.setup:000000000000004c $d
     /tmp/cc4aSaQh.s:923    .text.run:0000000000000000 $t
     /tmp/cc4aSaQh.s:930    .text.run:0000000000000000 run
     /tmp/cc4aSaQh.s:981    .text.run:000000000000002c $d

UNDEFINED SYMBOLS
strcmp
memcpy
strlen
HAL_UART_Transmit
sprintf
debug_rx
debug_tx
huart3
code_version
count_dec
count_sec
count_min
count_hour
can1
can3
its3_connected
its2_connected
its1_connected
its0_connected
imu_connected
count_imu
fifoRxDataCAN_pop
debug_msg_arrived
accel_implausibility_check
brake_implausibility_check
atc_connected
count_atc
accel
brake
ARM GAS  /tmp/cc4aSaQh.s 			page 29


CAN_Send
